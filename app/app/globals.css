@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --font-montserrat: var(--font-montserrat);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

html {
  height: 100%;
  height: 100dvh; /* Dynamic viewport height для мобільних */
  overflow-x: hidden; /* Запобігаємо горизонтальному скролу */
  max-width: 100vw; /* Обмежуємо ширину */
  /* Дозволяємо вертикальний скрол */
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  font-family: var(--font-montserrat), -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
}

body {
  background: radial-gradient(ellipse 80% 100% at 20% 0%, #3F5331 0%, transparent 40%), 
              radial-gradient(ellipse 80% 100% at 80% 100%, #3F5331 0%, transparent 40%),
              #000000;
  color: var(--foreground);
  font-family: var(--font-montserrat), -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  height: 100%;
  height: 100dvh; /* Dynamic viewport height для мобільних */
  overflow-y: auto; /* Дозволяємо скрол тільки на body */
  overflow-x: hidden; /* Запобігаємо горизонтальному скролу */
  -webkit-overflow-scrolling: touch; /* Плавний скрол на iOS */
  max-width: 100vw; /* Обмежуємо ширину */
  width: 100%; /* Фіксуємо ширину */
  /* Використовуємо viewport height від Telegram, якщо доступно */
  min-height: var(--tg-viewport-height, 100vh);
  min-height: var(--tg-viewport-height, 100dvh);
}

.font-montserrat {
  font-family: var(--font-montserrat), sans-serif;
}

/* Запобігаємо горизонтальному скролу для всіх елементів */
* {
  max-width: 100%;
  box-sizing: border-box;
}

/* Додаткові стилі для контейнерів */
#__next,
[data-nextjs-scroll-focus-boundary],
main,
div[role="main"] {
  overflow-x: hidden;
  max-width: 100vw;
  width: 100%;
}

/* Обмежуємо ширину для всіх flex контейнерів */
.flex,
.flex-col,
.grid {
  max-width: 100%;
  overflow-x: hidden;
}

/* Для горизонтальних скролованих елементів (підкатегорії тощо) */
.overflow-x-auto {
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
  /* Приховуємо скролбар, але залишаємо функціональність */
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.overflow-x-auto::-webkit-scrollbar {
  display: none;
}

/* Запобігаємо виходу елементів за межі */
img,
video,
iframe {
  max-width: 100%;
  height: auto;
}

/* Додаткові обмеження для модальних вікон */
[class*="fixed"]:not([class*="gallery"]):not(button):not([class*="ImageGallery"]),
[class*="absolute"]:not([class*="gallery"]):not(button):not([class*="ImageGallery"]) {
  max-width: 100vw;
  left: 0;
  right: 0;
}

/* Виключаємо елементи галереї з глобальних обмежень */
[class*="ImageGallery"] [class*="absolute"],
[class*="ImageGallery"] button[class*="absolute"] {
  max-width: none;
  left: auto;
  right: auto;
}

/* Для всіх контейнерів з padding/margin */
.container,
.max-w-2xl,
.max-w-md,
.max-w-sm {
  overflow-x: hidden;
  max-width: 100%;
}

/* Запобігаємо горизонтальному скролу для таблиць */
table {
  width: 100%;
  max-width: 100%;
  table-layout: fixed;
}

/* Для текстових елементів */
p,
h1,
h2,
h3,
h4,
h5,
h6,
span,
div {
  word-wrap: break-word;
  overflow-wrap: break-word;
}

/* Анімації */
@keyframes pulse-once {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

.animate-pulse-once {
  animation: pulse-once 0.5s ease-in-out;
}

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.animate-in {
  animation: fade-in 0.3s ease-in-out;
}

@keyframes slide-up {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-slide-up {
  animation: slide-up 0.3s ease-out;
}

@keyframes slide-down {
  from {
    transform: translateY(-100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-slide-down {
  animation: slide-down 0.3s ease-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.animate-fadeIn {
  animation: fadeIn 0.2s ease-out;
}

@keyframes slideUp {
  from {
    transform: translateY(100%);
  }
  to {
    transform: translateY(0);
  }
}

.animate-slideUp {
  animation: slideUp 0.3s ease-out;
}

/* Smooth scrolling - але можемо вимкнути програмно для миттєвого скролу */
html.no-smooth-scroll {
  scroll-behavior: auto !important;
}

html.smooth-scroll {
  scroll-behavior: smooth;
}

/* Hide scrollbar but keep functionality */
.overflow-x-auto::-webkit-scrollbar,
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

.overflow-x-auto,
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* Safe area для мобільних пристроїв - тільки для модальних вікон */
.pb-safe {
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

.mb-safe {
  margin-bottom: env(safe-area-inset-bottom, 0px);
}

/* Запобігаємо підтягуванню BottomNavigation при відкритті клавіатури */
[class*="BottomNavigation"] > div[class*="fixed"][class*="bottom-0"],
div[class*="fixed"][class*="bottom-0"]:has([class*="BottomNavigation"]) {
  position: fixed !important;
  bottom: 0 !important;
  transform: translateZ(0);
  will-change: transform;
  /* Запобігаємо зміні позиції при зміні viewport */
  max-height: none !important;
  height: auto !important;
}
