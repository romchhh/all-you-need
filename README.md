# All You Need - Marketplace Telegram Bot

Telegram –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å –¥–ª—è –ø—Ä–æ–¥–∞–∂—É —Ç–∞ –ø–æ–∫—É–ø–∫–∏ —Ç–æ–≤–∞—Ä—ñ–≤ –∑ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—î—é –º—ñ–Ω—ñ-–¥–æ–¥–∞—Ç–∫—É.

## üöÄ –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

- üì± **Telegram Mini App** - –ø–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å —É Telegram
- ü§ñ **Telegram Bot** - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —á–µ—Ä–µ–∑ –±–æ—Ç–∞ –∑ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª–ª—é
- üõçÔ∏è **–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä—ñ–≤** - –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó, –ø—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ—ó, –ø–æ—à—É–∫ —Ç–∞ —Ñ—ñ–ª—å—Ç—Ä–∏
- ‚ù§Ô∏è **–û–±—Ä–∞–Ω–µ** - –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —É–ª—é–±–ª–µ–Ω–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤
- üë§ **–ü—Ä–æ—Ñ—ñ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤** - –¥–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø—Ä–æ–¥–∞–≤—Ü—ñ–≤
- üì∏ **–§–æ—Ç–æ –≥–∞–ª–µ—Ä–µ—è** - –º–Ω–æ–∂–∏–Ω–Ω—ñ —Ñ–æ—Ç–æ —Ç–æ–≤–∞—Ä—ñ–≤ –∑ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—î—é
- üîç **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó** - –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –Ω–∞ –æ—Å–Ω–æ–≤—ñ –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤
- üí¨ **–®–≤–∏–¥–∫–∏–π –ø–µ—Ä–µ–≥–ª—è–¥** - preview —Ç–æ–≤–∞—Ä—ñ–≤ –ø—Ä–∏ –¥–æ–≤–≥–æ–º—É –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ
- üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –ø–µ—Ä–µ–≥–ª—è–¥–∏, –ø—Ä–æ–¥–∞–∂—ñ, —á–∞—Å –Ω–∞ —Å–µ—Ä–≤—ñ—Å—ñ

## üìã –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

### Frontend (Next.js)
- **Next.js 16** - React —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **TypeScript** - —Ç–∏–ø—ñ–∑–∞—Ü—ñ—è
- **Tailwind CSS** - —Å—Ç–∏–ª—ñ–∑–∞—Ü—ñ—è
- **Prisma** - ORM –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö
- **Telegram WebApp SDK** - —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Telegram
- **Sharp** - –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∑–æ–±—Ä–∞–∂–µ–Ω—å (WebP)

### Backend (Python)
- **aiogram 3.18** - Telegram Bot API
- **SQLite** - –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
- **Prisma** - —Å–ø—ñ–ª—å–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –∑ frontend

## üõ†Ô∏è –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

- Node.js 18+ —Ç–∞ npm
- Python 3.10+
- Telegram Bot Token

### 1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

```bash
git clone https://github.com/romchhh/all-you-need.git
cd all-you-need
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Telegram Bot

```bash
cd bot
cp .env.example .env
# –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ .env —Ç–∞ –¥–æ–¥–∞–π—Ç–µ –≤–∞—à TOKEN —Ç–∞ ADMINISTRATORS
```

### 3. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –¥–ª—è –±–æ—Ç–∞

```bash
cd bot
python -m venv venv
source venv/bin/activate  # –ù–∞ Windows: venv\Scripts\activate
pip install -r requirements.txt
```

### 4. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –¥–ª—è Next.js

```bash
cd app
npm install
```

### 5. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

```bash
cd app
# –°—Ç–≤–æ—Ä—ñ—Ç—å .env —Ñ–∞–π–ª –∑ DATABASE_URL
echo "DATABASE_URL=\"file:../database/ayn_marketplace.db\"" > .env

# –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–π—Ç–µ Prisma
npx prisma generate
npx prisma db push

# –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–π—Ç–µ —Ç–∞–±–ª–∏—Ü—ñ —á–µ—Ä–µ–∑ Python —Å–∫—Ä–∏–ø—Ç
cd ../bot
python database_functions/init_prisma_tables.py
```

### 6. –ó–∞–ø—É—Å–∫

**Telegram Bot:**
```bash
cd bot
python main.py
```

**Next.js App:**
```bash
cd app
npm run dev
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
all-you-need/
‚îú‚îÄ‚îÄ app/                    # Next.js –¥–æ–¥–∞—Ç–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ app/               # Next.js App Router
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/           # API routes
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx       # –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ components/        # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ hooks/             # Custom hooks
‚îÇ   ‚îú‚îÄ‚îÄ lib/               # –£—Ç–∏–ª—ñ—Ç–∏ —Ç–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îÇ   ‚îú‚îÄ‚îÄ prisma/            # Prisma schema
‚îÇ   ‚îî‚îÄ‚îÄ public/            # –°—Ç–∞—Ç–∏—á–Ω—ñ —Ñ–∞–π–ª–∏
‚îú‚îÄ‚îÄ bot/                   # Telegram Bot
‚îÇ   ‚îú‚îÄ‚îÄ handlers/          # –û–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–¥—ñ–π
‚îÇ   ‚îú‚îÄ‚îÄ keyboards/         # –ö–ª–∞–≤—ñ–∞—Ç—É—Ä–∏
‚îÇ   ‚îú‚îÄ‚îÄ database_functions/# –§—É–Ω–∫—Ü—ñ—ó –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ main.py            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É
‚îî‚îÄ‚îÄ database/              # SQLite –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
```

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

**bot/.env:**
```env
TOKEN=your_telegram_bot_token
ADMINISTRATORS=[123456789,987654321]
```

**app/.env:**
```env
DATABASE_URL="file:../database/ayn_marketplace.db"
NEXT_PUBLIC_BOT_URL=https://t.me/your_bot
```

## üìù API Endpoints

### Listings
- `GET /api/listings` - –û—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –æ–≥–æ–ª–æ—à–µ–Ω—å
- `GET /api/listings/[id]` - –û—Ç—Ä–∏–º–∞—Ç–∏ –¥–µ—Ç–∞–ª—ñ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è
- `POST /api/listings/create` - –°—Ç–≤–æ—Ä–∏—Ç–∏ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è
- `PUT /api/listings/[id]/update` - –û–Ω–æ–≤–∏—Ç–∏ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è
- `DELETE /api/listings/[id]/delete` - –í–∏–¥–∞–ª–∏—Ç–∏ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è
- `GET /api/listings/recommendations` - –û—Ç—Ä–∏–º–∞—Ç–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

### User
- `GET /api/user/profile` - –û—Ç—Ä–∏–º–∞—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `POST /api/user/profile/update` - –û–Ω–æ–≤–∏—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å
- `GET /api/user/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

## üé® –û—Å–Ω–æ–≤–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

- **BazaarTab** - –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –∑ –∫–∞—Ç–∞–ª–æ–≥–æ–º
- **CategoriesTab** - –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ç–∞ –ø—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ—ó
- **FavoritesTab** - –û–±—Ä–∞–Ω–µ
- **ProfileTab** - –ü—Ä–æ—Ñ—ñ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- **ListingDetail** - –î–µ—Ç–∞–ª—ñ —Ç–æ–≤–∞—Ä—É
- **UserProfilePage** - –ü—Ä–æ—Ñ—ñ–ª—å –ø—Ä–æ–¥–∞–≤—Ü—è
- **CreateListingModal** - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è
- **ListingPreviewModal** - –®–≤–∏–¥–∫–∏–π –ø–µ—Ä–µ–≥–ª—è–¥

## üì± Telegram Mini App

–ú—ñ–Ω—ñ-–¥–æ–¥–∞—Ç–æ–∫ –¥–æ—Å—Ç—É–ø–Ω–∏–π —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞. –ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É –±–æ—Ç–∞ —Ç–∞ Next.js —Å–µ—Ä–≤–µ—Ä–∞, –Ω–∞–ª–∞—à—Ç—É–π—Ç–µ Web App URL –≤ BotFather:

```
/setmenubutton
```

–í–∫–∞–∂—ñ—Ç—å URL –≤–∞—à–æ–≥–æ Next.js –¥–æ–¥–∞—Ç–∫—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `https://your-domain.com`).

## ü§ù –í–Ω–µ—Å–æ–∫

–í—ñ—Ç–∞—é—Ç—å—Å—è pull requests! –î–ª—è –≤–µ–ª–∏–∫–∏—Ö –∑–º—ñ–Ω —Å–ø–æ—á–∞—Ç–∫—É –≤—ñ–¥–∫—Ä–∏–π—Ç–µ issue –¥–ª—è –æ–±–≥–æ–≤–æ—Ä–µ–Ω–Ω—è.

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

–¶–µ–π –ø—Ä–æ—î–∫—Ç —Ä–æ–∑–ø–æ–≤—Å—é–¥–∂—É—î—Ç—å—Å—è –ø—ñ–¥ –ª—ñ—Ü–µ–Ω–∑—ñ—î—é MIT.

## üë§ –ê–≤—Ç–æ—Ä

**romchhh**

- GitHub: [@romchhh](https://github.com/romchhh)

## üôè –ü–æ–¥—è–∫–∏

- Telegram Bot API
- Next.js –∫–æ–º–∞–Ω–¥–∞
- Prisma –∫–æ–º–∞–Ω–¥–∞
- –í—Å—ñ –∫–æ–Ω—Ç—Ä–∏–±'—é—Ç–æ—Ä–∏

